var Panel={initialised:!1,mobile:!1,init:function(){this.initialised||(this.initialised=!0,this.globalJs())},loadJs:function(){$(".header").addClass(""),$(".page-loading").fadeOut()},globalJs:function(){var e=$(".games-grid");e.masonry({itemSelector:"div.grid-item",columnWidth:".grid-sizer",percentPosition:!0,stamp:".stamp"});var o=e.data("masonry");$("#load_more").length&&$(".games-grid").infiniteScroll({path:"#load_more",append:".grid-item",status:".scroller-status",hideNav:"#page-nav",outlayer:o}),Panel.categoriesSystem(),Panel.lazy(),load_boxCount(),$.cookieBubble(),$(".sidenav").sidenav(),Panel.tooltip(),$("input.autocomplete").off("keyup").on("keyup",(function(){Panel.gameAutoComplete()})),$(".dropdown-trigger").dropdown(),$(".gamebox-btn").off("click").on("click",(function(){load_gamebox(),M.Sidenav.getInstance($(".gameboxList")).open(),Panel.tooltip()}))},gameAutoComplete:function(){var e=$("input.autocomplete"),o=$(".autocomplete-content"),a=e.val(),t=e.data("url");null!=a&&""!=a?jQuery.ajax({url:t,data:"search="+a,type:"GET",beforeSend:function(){o.html("")},success:function(e){o.html(e)},error:function(e,o,a){console.log(o,a)}}):o.html("")},tooltip:function(){$(".tooltip").length>0&&$(".tooltip").tooltip()},lazy:function(){$(".lazy").length>0&&$(".lazy").Lazy({scrollDirection:"vertical",effect:"fadeIn",event:"loadImage",onError:function(e){console.log("error loading "+e.data("src"))}})},categoriesSystem:function(){var e=$("body").width();e>1550?Panel.addCategoriDropdown(9):e>1366?Panel.addCategoriDropdown(7):e>1200?Panel.addCategoriDropdown(5):e>800?Panel.addCategoriDropdown(0):Panel.addCategoriDropdown(3)},addCategoriDropdown:function(e=4){var o=0;$(".categoriList li").each((function(){if(++o>e&&!$(this).hasClass("other-categori")){var a=$(this).html();$(".other-categori .dropdown-content").append("<li>"+a+"</li>"),$(this).remove()}}))},gameDetail:function(){$(".scroll-container").slimscroll({size:"5px",alwaysVisible:!0}),$(".slick").slick({vertical:!0,verticalSwiping:!0,centerMode:!1,infinite:!0,slidesToShow:4,slidesToScroll:4,prevArrow:"<i class='slick-prev slick-arrow fas fa-chevron-down'></i>",nextArrow:"<i class='slick-next slick-arrow fas fa-chevron-up'></i>"}),$(".slick").on("init",(function(){$(".slick-current").addClass("slick-animate")})).on("beforeChange",(function(){$(".item").removeClass("slick-animate")})).on("afterChange",(function(){$(".slick-current").addClass("slick-animate")})),Panel.flytEffect()},flytEffect:function(){$(".game-detail").flyto({item:".game-picture",target:".gamebox-btn",button:".add-gameBox"})},addGameBox:function(e){add_gamebox($(".game-detail").data("slug"),$(".game-detail").data("name"),$(".game-detail").data("image"),$(".game-detail").data("url")),load_boxCount()},gameboxRemove:function(e){$(".gamebox-btn .count");remove_gamebox($(e).data("slug"))},gameFullScreen:function(){$(".game-frame").toggleClass("full-screen"),$(".close-fullscreen").toggleClass("hidden"),$(document).on("keyup",(function(e){27==e.keyCode&&($(".game-frame").removeClass("full-screen"),$(".close-fullscreen").addClass("hidden"))}))},windowSize:function(){var e=$(window).width(),o=150*Math.floor(e/150);$(".games-grid").css("width",o+"px"),$(".header").removeClass("overflow-hidden")},headerFixed:function(){var e=$(".header");$(window).scrollTop()>=50?e.addClass("fixed"):e.removeClass("fixed")},searchGame:function(){$("body").width()<992&&$("body .search-section .input-field").toggleClass("active")},toggleFullScreen:function(){var e=window.document,o=e.documentElement,a=o.requestFullscreen||o.mozRequestFullScreen||o.webkitRequestFullScreen||o.msRequestFullscreen,t=e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen;e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement?t.call(e):a.call(o)},showCategories:function(){var e=$(".category-section");e.hasClass("open")?(e.removeClass("open"),setTimeout((function(){$("li.others-category").addClass("hidden ").removeClass("bounceOut")}),100)):(e.addClass("open"),setTimeout((function(){$("li.others-category").removeClass("hidden").addClass("bounceIn")}),100))}};function add_gamebox(e,o,a,t){if(jQuery.cookie("mygame_box")){var n=JSON.parse(jQuery.cookie("mygame_box"));jQuery.each(n,(function(o,a){a.slug===e&&n.splice(o,1)})),n.push({slug:e,name:o,image:a,url:t}),jQuery.cookie("mygame_box",JSON.stringify(n),{expires:365,path:"/"})}else{var i=[];i.push({slug:e,name:o,image:a,url:t}),jQuery.cookie("mygame_box",JSON.stringify(i),{expires:365,path:"/"})}}function load_boxCount(){var e=0;if(jQuery.cookie("mygame_box")){var o=JSON.parse(jQuery.cookie("mygame_box"));e=o.length}var a=$(".gamebox-btn .count");setTimeout((function(){a.html(e)}),800)}function load_gamebox(){if(jQuery.cookie("mygame_box")){for(var e=JSON.parse(jQuery.cookie("mygame_box")),o='<li class="header_title"> Game Box List </li>',a=e.length-1;a>=0;a--){var t=e[a];o+='<li> \n                                <div class="game-image"> <a href="'+t.url+'"><img src="'+t.image+'" alt="'+t.name+'"> </a> </div>\n                                <div class="game-title"> <a href="'+t.url+'"> '+t.name+' </a> </div> \n                                <div class="game-remove"> <button data-tooltip="'+t.name+'" class="btn dark-btn waves-effect tooltip" onclick="Panel.gameboxRemove(this);"  data-slug="'+t.slug+'" type="button" data-target="dropdown1"> <i class="fas fa-times"></i> </button> </div> \n                                </li>'}(o+="")&&jQuery(".gameboxList").html(o)}else console.log(jQuery.cookie("mygame_box"))}function remove_gamebox(e){if(jQuery.cookie("mygame_box")){var o=JSON.parse(jQuery.cookie("mygame_box"));o=$.grep(o,(function(o){return o.slug!==e})),jQuery.cookie("mygame_box",JSON.stringify(o),{expires:365,path:"/"}),load_gamebox(),load_boxCount()}}window.addEventListener("DOMContentLoaded",(function(){Panel.init()})),$(window).on("load",(function(){Panel.loadJs()})),$(window).on("scroll",(function(){Panel.headerFixed()})),$(window).resize((function(){Panel.categoriesSystem()}));